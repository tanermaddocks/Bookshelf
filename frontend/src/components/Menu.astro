---

---

<script>
  let request = async (method: string) => {
    let bookId = (
      document.querySelector(
        "input[name=book-select]:checked",
      ) as HTMLInputElement
    ).id;

    let targetUrl = import.meta.env.PUBLIC_API_URL + "/books/" + bookId;

    let body = null;

    let response = await fetch(targetUrl, {
      method: method,
      headers: {
        "Content-Type": "application/json",
      },
      body: body,
    });

    location.reload()
  };

  const DELETE = document.querySelector("button#remove")!;
  DELETE.addEventListener("click", () => {
    request("DELETE");
  });
</script>

<section class="menu">
  <img class="graphic" src="./src/assets/graphic.svg" alt="bookshelf graphic" />
  <menu>
    <h2>What would you like to do?</h2>
    <div class="menu-buttons">
      <!-- <button id="find">FIND</button> -->
      <button type="submit" id="add"> ADD </button>
      <!-- <button id="edit">EDIT</button> -->
      <button type="submit" id="remove"> REMOVE </button>
    </div>
  </menu>
</section>

<style>
  .menu {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding-bottom: 16px;
  }
  @media (min-width: 768px) {
    .menu {
      flex-direction: row;
    }
  }
  .graphic {
    max-width: 100vw;
    max-height: 25vh;
  }
  menu {
    all: unset;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h2 {
    margin-top: 0;
  }
  .menu-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    width: 90%;
    gap: 4px;
  }
  .menu-buttons button {
    padding: 12px;
    border-radius: 4px;
    font-weight: 600;
  }
  /* button#find {
    grid-area: 1 / 1 / span 1 / span 2;
  } */
  button#add {
    grid-area: 2 / 1 / span 1 / span 2;
  }
  /* button#edit {
    grid-area: 3 / 1;
  } */
  button#remove {
    grid-area: 3 / 1 / span 1 / span 2;
  }
</style>
